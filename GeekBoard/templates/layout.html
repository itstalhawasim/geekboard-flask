<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="Description" content="Geekboard brings coding tasks first in the screening process allowing candidates and recruiters to save time.">
	  <meta name="Keywords" content="hiring, jobs, recruitment, vacancy, programming, coding, talent, job board, technical, ats, hr software">
    <meta name="author" content="Talha Wasim">
    <title>{{ title }} - GeekBoard</title>
    <!-- Favicon -->
    <link rel="icon" href="{{url_for('static', filename='assets/img/favicon.ico') }}" />
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <!-- Plugins CSS -->
    <link type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css" rel="stylesheet">
    <link href="{{url_for('static', filename='node_modules/animate.css/animate.min.css') }}" rel="stylesheet">
    <!-- Icons CSS -->
    <link href="{{url_for('static', filename='assets/vendor/nucleo/css/nucleo.css') }}" rel="stylesheet">
    <link href="{{url_for('static', filename='assets/vendor/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet">
    <!-- Main CSS -->
    <link type="text/css" href="{{url_for('static', filename='assets/css/argon.css') }}" rel="stylesheet">
    <script src="{{url_for('static', filename='node_modules/codemirror/lib/codemirror.js') }}"></script>
    <link rel="stylesheet" href="{{url_for('static', filename='node_modules/codemirror/lib/codemirror.css') }}">
    <script src="{{url_for('static', filename='node_modules/codemirror/mode/javascript/javascript.js') }}"></script>
    <script src="{{url_for('static', filename='node_modules/codemirror/mode/scheme/scheme.js') }}"></script>
  </head>
  <body>
    <header class="header-global">
      <nav id="navbar-main" class="navbar navbar-main navbar-expand-lg navbar-dark bg-default shadow">
        <div class="container">
          <a class="navbar-brand" href="{{url_for('home')}}">GeekBoard</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbar-primary">
            <div class="navbar-collapse-header">
              <div class="row">
                <div class="col-6 collapse-brand">
                  <a class="navbar-brand text-default" href="{{url_for('home')}}">GeekBoard</a>
                </div>
                <div class="col-6 collapse-close">
                  <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-primary" aria-controls="navbar-primary" aria-expanded="false" aria-label="Toggle navigation">
                  <span></span>
                  <span></span>
                  </button>
                </div>
              </div>
            </div>
            <ul class="navbar-nav d-md-flex">
              <li class="nav-item">
                <a class="nav-link" href="{{url_for('about')}}">About us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{url_for('contact')}}">Contact us</a>
              </li>
            </ul>
            <ul class="navbar-nav ml-lg-auto">
              {% if session.logged_in %}
                <li class="nav-item dropdown">
                  <a class="nav-link" href="#" id="navbar-primary_dropdown_1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Welcome back, <b>{{session.full_name|capitalize}}</b> <i class="fa fa-angle-down"></i></a>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-primary_dropdown_1">
                    <a class="dropdown-item" href="{{url_for('add_job')}}">Add a Job Post</a>
                    <a class="dropdown-item" href="{{url_for('manage_jobs')}}">Manage Job Posts</a>
                    <a class="dropdown-item" href="{{url_for('manage_applications')}}">Manage Applications</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="{{url_for('logout')}}"><i class="fa fa-sign-out"></i> Logout</a>
                  </div>
                </li>
              {% else %}
                <li class="nav-item">
                  <a href="{{url_for('register')}}" class="btn btn-link text-info pr-2">Register</a>
                </li>
                <li class="nav-item"><small class="pr-3">OR</small>
                  <a href="{{url_for('login')}}" class="btn btn-neutral btn-icon">
                    <span class="btn-inner--icon">
                      <i class="fa fa-sign-in mr-1"></i>
                    </span>
                    <span class="nav-link-inner--text">Log in</span>
                  </a>
                </li>
              {% endif %}
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main>
      {% block content %}
      {% endblock %}
    </main>
    <footer class="footer bg-white">
      <div class="container">
        <div class="row align-items-center justify-content-md-between">
          <div class="mx-auto">
            <div class="copyright">
              <center>Copyright GeekBoard, a project by <a href="https://www.github.com/itstalhawasim" target="_blank">Talha Wasim</a>.</center>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Core JS -->
    <script src="{{url_for('static', filename='node_modules/jquery/dist/jquery.min.js') }}"></script>
    <script src="{{url_for('static', filename='node_modules/@popperjs/core/dist/umd/popper.js') }}"></script>
    <script src="{{url_for('static', filename='node_modules/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <!-- Main JS -->
    <script src="{{url_for('static', filename='assets/js/argon.js') }}"></script>
    <!-- Plugins JS -->
    <script src="https://cdn.ckeditor.com/ckeditor5/11.1.1/classic/ckeditor.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script src="{{url_for('static', filename='assets/vendor/Morphext/morphext.min.js') }}"></script>
    <script src="https://instant.page/5.1.0" type="module" defer></script>
    <script>
      ClassicEditor.create( document.querySelector( '#details' ), {
        removePlugins: [ 'ImageUpload' ]
      });
    </script>
    <script>
      ClassicEditor.create( document.querySelector( '#coding_task' ), {
        removePlugins: [ 'ImageUpload' ]
      });
    </script>
    <script>
      ClassicEditor.create( document.querySelector( '#message' ), {
        removePlugins: [ 'ImageUpload' ]
      });
    </script>
    <script>
      $(document).ready(function(){
        $(".is_datatable").DataTable({
          "scrollX": true,
          "language": {
            "paginate": {
              "previous": "<i class='fa fa-angle-left'></i>",
              "next": "<i class='fa fa-angle-right'></i>"
            }
          },
          "columnDefs": [
            { "width": "20%", "targets": 3 }
          ]
        });
      });
    </script>
    <script>
      $(document).ready(function(){
        $("#manage_applications").DataTable({
          "scrollX": true,
          "language": {
            "paginate": {
              "previous": "<i class='fa fa-angle-left'></i>",
              "next": "<i class='fa fa-angle-right'></i>"
            }
          },
          "columnDefs": [
            { "width": "20%", "targets": 6 }
          ]
        });
      });
    </script>
    <script>
      $("#js-rotating").Morphext({
        animation: "bounceIn",
        separator: ",",
        speed: 3000,
      });
    </script>
    {% if request.url_rule.endpoint == "jobs" %}
      <script>
        var editor = CodeMirror.fromTextArea(document.getElementById('coding_task_solution'), {
          mode: "scheme",
          lineNumbers: true,
        });
        var pending;
        editor.on("change", function() {
          clearTimeout(pending);
          pending = setTimeout(update, 400);
        });
        function looksLikeScheme(code) {
          return !/^\s*\(\s*function\b/.test(code) && /^\s*[;\(]/.test(code);
        }
        function update() {
          editor.setOption("mode", looksLikeScheme(editor.getValue()) ? "scheme" : "javascript");
          editor.save();
        }
      </script>
    {% endif %}
  </body>
</html>